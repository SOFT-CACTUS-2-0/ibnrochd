import{r as e,j as t}from"./index-CUhIl32h.js";import{C as a,H as i}from"./ContactInfo--tBtHrI6.js";import{T as r,S as s}from"./Sponsors-WJDlLlui.js";import{C as l}from"./Contact-E9BAE_D7.js";import{o as c,u as n,F as o,g as d}from"./api-slzaSPxm.js";/* empty css                    */const m=Array.from({length:18},((e,t)=>`/gallery/ (${t+1}).webp`)),u=()=>{const{t:u,i18n:g}=n(),[p,_]=e.useState(1),f=Math.ceil(m.length/6),[j,v]=e.useState([]);e.useEffect((()=>{(async()=>{const e=await(async()=>{try{const e=localStorage.getItem("instagramVideos");if(e)return JSON.parse(e);const t="IGAAQPxE3SwoFBZAE1GQWlJUFRrVkZAYcUh4azJVMFBQcFFfSFducHhTcnBZARm93ZA013ZAUMwZATZAPM0E4dFJ4Vjl1cUZAYc1JfTlExaEc2VEM4eURlcm5XZAnU4OXJEcGpjRHVpZAGV4TWJSRTB6SHg5amwxWm40QkgwU1FvQ2JqUzlGQQZDZD",a=await c.get("https://graph.instagram.com/me/media?fields=id,media_type,media_url&limit=6&access_token="+t);if(!a.data||!a.data.data)return[];const i=a.data.data.filter((e=>"VIDEO"===e.media_type)).map((e=>e.media_url));return localStorage.setItem("instagramVideos",JSON.stringify(i)),i}catch(e){}})(),t=u("gallery.videos.titles",{returnObjects:!0});if(e.length>0){const a=e.map(((e,a)=>({src:e,title:t[a]||`Video ${a+1}`,active:0===a})));v(a)}})()}),[u]),e.useEffect((()=>{v((e=>e.map(((e,t)=>({...e,title:u("gallery.videos.titles",{returnObjects:!0})[t]})))))}),[g.language,u]);const[x,y]=e.useState(null),h=e.useRef(!1),A=e.useRef(null),E=e.useRef([]);e.useEffect((()=>()=>{E.current.forEach((e=>{e&&e.pause()}))}),[]);const S=6*p,Z=S-6,N=m.slice(Z,S),F=e=>{h.current||A.current!==e||(y(null),A.current=null)};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"galerie__page",children:[t.jsx(a,{}),t.jsxs(i,{children:[t.jsx(r,{title:u("gallery.explore.title"),subtitle:u("gallery.explore.subtitle"),description:u("gallery.explore.description")}),t.jsx("div",{className:"video__galerie",children:j.map(((e,a)=>t.jsxs("div",{className:`video__item ${x===a?"playing":""} ${e.active?"active":""}`,onClick:()=>(e=>{A.current===e?(E.current[e].pause(),A.current=null,y(null)):(h.current=!0,E.current.forEach(((e,t)=>{e&&(e.pause(),e.currentTime=0)})),h.current=!1,E.current[e]&&(E.current[e].play(),y(e),A.current=e)),E.current[e]&&v((t=>{const a=t.map((e=>({...e,active:!1})));return a[e].active=!a[e].active,a}))})(a),children:[t.jsx("video",{ref:e=>E.current[a]=e,loading:"lazy",src:e.src,alt:`${u("gallery.videos.alt")} ${a+1}`,controls:!1,onPause:F,onEnded:()=>y(null)}),t.jsx("div",{className:"video__title",children:e.active?e.title:u("gallery.videos.defaultTitle")}),x!==a&&e.active&&t.jsx("div",{className:"play-icon",children:t.jsx(o,{icon:d})})]},a)))}),t.jsx(r,{title:u("gallery.pictures.title"),subtitle:u("gallery.pictures.subtitle"),description:u("gallery.pictures.description")}),t.jsx("div",{className:"image__galerie__grid",children:N.map(((e,a)=>t.jsx("div",{style:{"--i":"item"+(a%6+1)},className:"image__galerie__item",children:t.jsx("img",{loading:"lazy",src:e,alt:`${u("gallery.images.alt")} ${Z+a+1}`})},Z+a)))}),t.jsx("div",{className:"image__galerie__pagination",children:Array.from({length:f},((e,t)=>t+1)).map((e=>t.jsx("div",{className:"image__galerie__pagination__item "+(e===p?"active":""),onClick:()=>_(e),children:`0${e}`},e)))})]}),t.jsx(s,{})]}),t.jsx(l,{})]})};export{u as default};
