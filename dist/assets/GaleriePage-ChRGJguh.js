import{r as e,j as t}from"./index-D1G7NPhN.js";import{C as r,H as a}from"./ContactInfo-DAs0gvsb.js";import{T as i,S as s}from"./Sponsors-B7VIee7u.js";import{C as l}from"./Contact-CRWnngld.js";import{u as c,F as n,g as o}from"./api-B4Qyorsv.js";import{f as u}from"./instagram_api-C34Gv2JO.js";const d=Array.from({length:18},((e,t)=>`/gallery/ (${t+1}).webp`)),m=()=>{const{t:m,i18n:g}=c(),[p,j]=e.useState(1),_=Math.ceil(d.length/6),[v,f]=e.useState([]);e.useEffect((()=>{(async()=>{const e=await u(),t=m("gallery.videos.titles",{returnObjects:!0});if(e.length>0){const r=e.map(((e,r)=>({src:e,title:t[r]||`Video ${r+1}`,active:0===r})));f(r)}})()}),[m]),e.useEffect((()=>{f((e=>e.map(((e,t)=>({...e,title:m("gallery.videos.titles",{returnObjects:!0})[t]})))))}),[g.language,m]);const[x,y]=e.useState(null),h=e.useRef(!1),N=e.useRef(null),$=e.useRef([]);e.useEffect((()=>()=>{$.current.forEach((e=>{e&&e.pause()}))}),[]);const b=6*p,C=b-6,E=d.slice(C,b);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"galerie__page",children:[t.jsx(r,{}),t.jsxs(a,{children:[t.jsx(i,{title:m("gallery.explore.title"),subtitle:m("gallery.explore.subtitle"),description:m("gallery.explore.description")}),t.jsx("div",{className:"video__galerie",children:v.map(((e,r)=>t.jsxs("div",{className:`video__item ${x===r?"playing":""} ${e.active?"active":""}`,onClick:()=>(e=>{N.current===e?($.current[e].pause(),N.current=null,y(null)):(h.current=!0,$.current.forEach(((e,t)=>{e&&(e.pause(),e.currentTime=0)})),h.current=!1,$.current[e]&&($.current[e].play(),y(e),N.current=e)),$.current[e]&&f((t=>{const r=t.map((e=>({...e,active:!1})));return r[e].active=!r[e].active,r}))})(r),children:[t.jsx("video",{ref:e=>$.current[r]=e,loading:"lazy",src:e.src,alt:`${m("gallery.videos.alt")} ${r+1}`,controls:!1,onPause:()=>(e=>{h.current||N.current!==e||(y(null),N.current=null)})(r),onEnded:()=>y(null)}),t.jsx("div",{className:"video__title",children:e.active?e.title:m("gallery.videos.defaultTitle")}),x!==r&&e.active&&t.jsx("div",{className:"play-icon",children:t.jsx(n,{icon:o})})]},r)))}),t.jsx(i,{title:m("gallery.pictures.title"),subtitle:m("gallery.pictures.subtitle"),description:m("gallery.pictures.description")}),t.jsx("div",{className:"image__galerie__grid",children:E.map(((e,r)=>t.jsx("div",{style:{"--i":"item"+(r%6+1)},className:"image__galerie__item",children:t.jsx("img",{loading:"lazy",src:e,alt:`${m("gallery.images.alt")} ${C+r+1}`})},C+r)))}),t.jsx("div",{className:"image__galerie__pagination",children:Array.from({length:_},((e,t)=>t+1)).map((e=>t.jsx("div",{className:"image__galerie__pagination__item "+(e===p?"active":""),onClick:()=>j(e),children:`0${e}`},e)))})]}),t.jsx(s,{})]}),t.jsx(l,{})]})};export{m as default};
